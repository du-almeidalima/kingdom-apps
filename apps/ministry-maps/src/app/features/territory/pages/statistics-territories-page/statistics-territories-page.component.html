<div class='container'>
  <h2 class='t-headline2 mb-8'>Estatísticas territórios</h2>

  <select
    lib-select
    [disabled]="isLoading"
    class='w-full'
    name='Cidade'
    [ngModel]='selectedCity'
    (ngModelChange)='handleSelectedCityChange($event)'>
    @for (city of cities; track city) {
      <option [value]='city'>{{ city }}</option>
    }
    <option [value]='ALL_OPTION'>Todas</option>
  </select>

  @let territories = (filteredTerritories$ | async) || [];
  @if (isLoading) {
    <div class="flex items-center justify-center mt-52 py-6">
      <lib-spinner [height]="'5rem'" [width]="'5rem'" class="mx-auto" />
    </div>
  } @else {
    <kingdom-apps-territory-statistics-static-section [territories]="territories" />
    <kingdom-apps-territory-statistics-dynamic-section [territories]="territories" />
  }
</div>
